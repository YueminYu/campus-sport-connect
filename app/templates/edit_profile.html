{% extends 'base.html' %}

{% block title %}Edit Profile - Campus Sports Connect{% endblock %}

{% block content %}
<div class="container profile-container mt-5" style="max-width: 600px; background-color: rgba(255, 255, 255, 0.85); padding: 30px; border-radius: 10px;">
    <h2 class="text-center" style="color: #00274C;">Edit Profile</h2>

    <form method="POST" enctype="multipart/form-data">  <!-- Add enctype attribute to support file upload -->
        {{ form.hidden_tag() }}

        <div class="form-group text-center">
            {% if current_user.avatar %}
                <img src="{{ url_for('static', filename=current_user.avatar) }}" alt="Current Avatar" style="border-radius: 50%; width: 150px; height: 150px;">
            {% else %}
                <img src="{{ url_for('static', filename='images/default-avatar.jpg') }}" alt="Default Avatar" style="border-radius: 50%; width: 150px; height: 150px;">
            {% endif %}
        </div>

        <!-- Avatar upload field -->
        <div class="form-group">
            {{ form.avatar.label(class="form-label") }}
            {{ form.avatar(class="form-control") }}  <!-- This field will show the avatar upload option -->
        </div>

        <div class="form-group">
            {{ form.username.label(class="form-label") }}
            {{ form.username(class="form-control") }}
        </div>

        <div class="form-group">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control") }}
        </div>

        <label>Sports Interested</label>
        <div class="form-check">
            {{ form.basketball(class="form-check-input") }}
            {{ form.basketball.label(class="form-check-label") }}
        </div>
        <div class="form-check">
            {{ form.football(class="form-check-input") }}
            {{ form.football.label(class="form-check-label") }}
        </div>
        <div class="form-check">
            {{ form.soccer(class="form-check-input") }}
            {{ form.soccer.label(class="form-check-label") }}
        </div>
        <div class="form-check">
            {{ form.badminton(class="form-check-input") }}
            {{ form.badminton.label(class="form-check-label") }}
        </div>

        <div class="text-center mt-3">
            {{ form.submit(class="btn btn-primary") }}
        </div>

        <div class="text-center mt-2">
            <a href="{{ url_for('main_routes.change_password') }}" class="btn btn-link">Change Password</a>
        </div>
    </form>
</div>
{% endblock %}